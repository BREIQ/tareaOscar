# ğŸ“Š Diagrama de Arquitectura

## Flujo de la AplicaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USUARIO FINAL                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                â”‚
             â–¼                                â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    HOME     â”‚              â”‚ PANEL ADMIN      â”‚
      â”‚  PÃ¡gina     â”‚              â”‚ (ContraseÃ±a)     â”‚
      â”‚  Principal  â”‚              â”‚                  â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                 â”‚
           â”‚ 1. Registrar Asistencia        â”‚ 1. Gestionar Alumnos
           â”‚ 2. Teclado NumÃ©rico            â”‚ 2. Consultar Asistencias
           â–¼                                 â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         JAVASCRIPT / FETCH API                â”‚
      â”‚  (app.js y admin.js)                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP Requests
                         â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         API REST (public/api.php)             â”‚
      â”‚                                               â”‚
      â”‚  - POST /attendance/register                 â”‚
      â”‚  - POST /admin/validate                      â”‚
      â”‚  - GET/POST/PUT/DELETE /admin/students      â”‚
      â”‚  - GET /admin/attendance (con filtros)       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    CONTROLLERS (src/Controllers/)             â”‚
      â”‚                                               â”‚
      â”‚  - AttendanceController                      â”‚
      â”‚  - AdminController                           â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚      MODELS (src/Models/)                     â”‚
      â”‚                                               â”‚
      â”‚  - Student (CRUD)                            â”‚
      â”‚  - Attendance (Registro y consultas)         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    DATABASE LAYER (src/Database/)             â”‚
      â”‚                                               â”‚
      â”‚  - Connection (MongoDB)                       â”‚
      â”‚  - Ãndices automÃ¡ticos                       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         MONGODB DATABASE                      â”‚
      â”‚                                               â”‚
      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
      â”‚  â”‚ Collection: students                  â”‚   â”‚
      â”‚  â”‚ - student_number (2 dÃ­gitos)         â”‚   â”‚
      â”‚  â”‚ - password (4 dÃ­gitos)               â”‚   â”‚
      â”‚  â”‚ - name (string)                      â”‚   â”‚
      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
      â”‚                                               â”‚
      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
      â”‚  â”‚ Collection: attendance                â”‚   â”‚
      â”‚  â”‚ - student_number (referencia)        â”‚   â”‚
      â”‚  â”‚ - timestamp (ISODate)                â”‚   â”‚
      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Estructura de Carpetas

```
tareaOscar/
â”œâ”€â”€ ğŸ“„ .gitignore                 # Archivos a ignorar en Git
â”œâ”€â”€ ğŸ“„ .gitattributes            # ConfiguraciÃ³n Git
â”œâ”€â”€ ğŸ“„ LICENSE                   # Licencia MIT
â”œâ”€â”€ ğŸ“„ README.md                 # DocumentaciÃ³n principal (LEER)
â”œâ”€â”€ ğŸ“„ QUICK_START.md           # GuÃ­a rÃ¡pida
â”œâ”€â”€ ğŸ“„ INSTALACION_WINDOWS.md   # InstalaciÃ³n Windows
â”œâ”€â”€ ğŸ“„ RESUMEN_IMPLEMENTACION.md # Resumen tÃ©cnico
â”œâ”€â”€ ğŸ“„ API_DOCUMENTATION.md     # DocumentaciÃ³n API
â”œâ”€â”€ ğŸ“„ CONFIG_VARIABLES.md      # Variables de entorno
â”œâ”€â”€ ğŸ“„ CHANGELOG.md             # Historial de cambios
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md          # GuÃ­a de contribuciÃ³n
â”‚
â”œâ”€â”€ ğŸ“ config/
â”‚   â””â”€â”€ ğŸ“„ config.php           # ConfiguraciÃ³n principal
â”‚
â”œâ”€â”€ ğŸ“ database/
â”‚   â””â”€â”€ ğŸ“„ seed.php             # Script de datos de prueba
â”‚
â”œâ”€â”€ ğŸ“ public/                  # ROOT DEL SERVIDOR WEB
â”‚   â”œâ”€â”€ ğŸ“„ .htaccess            # Reescritura URL (Apache)
â”‚   â”œâ”€â”€ ğŸ“„ index.php            # Punto de entrada principal
â”‚   â”œâ”€â”€ ğŸ“„ api.php              # Endpoints API REST
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ css/
â”‚   â”‚   â””â”€â”€ ğŸ“„ styles.css       # Estilos responsive (1000+ lÃ­neas)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ js/
â”‚       â”œâ”€â”€ ğŸ“„ app.js           # LÃ³gica pÃ¡gina principal
â”‚       â””â”€â”€ ğŸ“„ admin.js         # LÃ³gica panel admin
â”‚
â”œâ”€â”€ ğŸ“ src/                     # CÃ“DIGO FUENTE PRINCIPAL
â”‚   â”œâ”€â”€ ğŸ“„ Autoloader.php       # Cargador automÃ¡tico de clases
â”‚   â”œâ”€â”€ ğŸ“„ Helpers.php          # Funciones auxiliares
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ Database/
â”‚   â”‚   â””â”€â”€ ğŸ“„ Connection.php   # ConexiÃ³n a MongoDB
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ Models/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Student.php      # Modelo de estudiante (CRUD)
â”‚   â”‚   â””â”€â”€ ğŸ“„ Attendance.php   # Modelo de asistencia
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ Controllers/
â”‚       â”œâ”€â”€ ğŸ“„ AttendanceController.php   # Control de asistencias
â”‚       â””â”€â”€ ğŸ“„ AdminController.php        # Control de administraciÃ³n
â”‚
â””â”€â”€ ğŸ“ views/                   # VISTAS HTML
    â”œâ”€â”€ ğŸ“„ home.php             # PÃ¡gina principal
    â””â”€â”€ ğŸ“„ admin.php            # Panel de administraciÃ³n
```

## Flujo de Registro de Asistencia

```
â”Œâ”€ Usuario entra a home â”€â”€â”
â”‚                         â–¼
â”‚                  [BotÃ³n Registrar]
â”‚                         â”‚
â”‚                         â–¼
â”‚                 [Modal Teclado]
â”‚                    Ingresa PIN
â”‚                   (ej: 051234)
â”‚                         â”‚
â”‚                         â–¼
â”‚                 fetch /api/attendance/register
â”‚                         â”‚
â”‚                         â–¼
â”‚            AttendanceController::register()
â”‚                         â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â–¼                                 â–¼
â”‚   Valida PIN              Busca en BD
â”‚   (6 dÃ­gitos)             student:05
â”‚        â”‚                  password:1234
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                 â–¼
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚ Â¿Existe?       â”‚
â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
â”‚              â”‚       â”‚
â”‚          SÃ  â”‚       â”‚  NO
â”‚              â–¼       â–¼
â”‚         Registra  Error:
â”‚         asistencia "PIN
â”‚         (timestamp) incorrecto"
â”‚              â”‚
â”‚              â–¼
â”‚         JSON Response
â”‚              â”‚
â”‚              â–¼
â”‚         app.js procesa
â”‚              â”‚
â”‚              â–¼
â”‚         Muestra resultado
â”‚              â”‚
â”‚              â””â”€â”€â–º Ã‰xito / Error
```

## Flujo del Panel Admin

```
â”Œâ”€ Usuario presiona Admin â”€â”€â”
â”‚                           â–¼
â”‚                    [Modal ContraseÃ±a]
â”‚                    Ingresa: Oscar9234
â”‚                           â”‚
â”‚                           â–¼
â”‚            fetch /api/admin/validate
â”‚                           â”‚
â”‚                           â–¼
â”‚           AdminController::validatePassword()
â”‚                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â–¼                         â–¼
â”‚         VÃ¡lida           Redirige a /admin
â”‚              â”‚
â”‚              â””â”€â”€â–º Carga vistas
â”‚                   (home.php)
â”‚                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â–¼                               â–¼
â”‚    PESTAÃ‘A 1:                      PESTAÃ‘A 2:
â”‚    GestiÃ³n de Alumnos              Asistencias
â”‚         â”‚                               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
â”‚    â–¼    â–¼     â–¼                   â–¼     â–¼    â–¼
â”‚  Crear Editar Eliminar           DÃ­a  Mes  AÃ±o
â”‚    â”‚    â”‚     â”‚                   â”‚     â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”             â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
â”‚         â”‚          â–¼                    â”‚
â”‚    API Calls    Tabla                API Calls
â”‚         â”‚       HTML                    â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                  â–¼
â”‚            MongoDB (CRUD)
â”‚                  â”‚
â”‚                  â–¼
â”‚            Respuesta JSON
â”‚                  â”‚
â”‚                  â–¼
â”‚            admin.js procesa
â”‚                  â”‚
â”‚                  â–¼
â”‚            Actualiza DOM
```

## Capas de la AplicaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PRESENTACIÃ“N (Views)              â”‚
â”‚  - home.php (HTML + CSS)            â”‚
â”‚  - admin.php (HTML + CSS)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    LÃ“GICA DE NEGOCIO (Controllers)   â”‚
â”‚  - AttendanceController             â”‚
â”‚  - AdminController                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ACCESO A DATOS (Models)           â”‚
â”‚  - Student                          â”‚
â”‚  - Attendance                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    BASE DE DATOS (MongoDB)           â”‚
â”‚  - students collection              â”‚
â”‚  - attendance collection            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Componentes Principales

### Frontend
- **HTML5**: Estructura semÃ¡ntica
- **CSS3**: Responsive, gradientes, animaciones
- **JavaScript ES6**: Fetch API, async/await

### Backend
- **PHP 8+**: Orientado a objetos
- **MongoDB Driver**: ConexiÃ³n a BD
- **API REST**: JSON requests/responses

### Base de Datos
- **MongoDB**: 2 colecciones, Ã­ndices automÃ¡ticos
- **Timestamps**: ISO 8601 con zona horaria

---

**VersiÃ³n**: 1.0.0  
**Ãšltima actualizaciÃ³n**: 9 de diciembre de 2025
